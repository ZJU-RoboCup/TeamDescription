# 小型组任务清单（硬件）

>  任务分为三类：1.存在可用方法，存在提升空间（可用但待提升）​​2.有进展但方法不好用 （待解决）3.无可用方案（待分析）
>
>  难度从1-5 <br/>
>  :soccer::soccer::soccer::soccer::soccer:<br/>
>  :soccer::soccer::soccer::soccer:<br/>
>  :soccer::soccer::soccer:<br/>
>  :soccer::soccer:<br/>
>  :soccer:<br/>

[toc]

## 电路

### 通信系统

- 任务描述：当前系统下，机器人回包会出现丢包现象，多出现于红外触发、踢球结束时。目标实现高效稳定的射频传输。
- 目前进展：目前采用NRF24L01芯片进行通信，SX1280为可替换方案。两者性能有差异，但主要体现在单次数据包的大小上，其空中传输速率相近。
- 存在问题及改进：
  - 考虑在目前系统上排查丢包原因，最大化芯片性能。测试时可利用树莓派，单独设立通信路线，进行比对。
  - 将机器人上的通信电路模块化，方便调试与更换。

### 吸球反馈

- 任务描述：不改变机械结构的情况下，利用吸球电机自带的霍尔传感器读取电机运动信息。

### 自检

- 任务描述：自行检测机器人运行状态，利用这些状态信息可以判断机器人各功能是否正常；若有异常情况，则可及时调度其他机器人上场。
- 目前进展：
  - 能够读取电池电量、红外触发、各电机转速信息等，可设定指标标示机器人状态。
  - 机器人收包：机器人待机状态时，若一段时间未收包，则判断为接收模块关闭，进行重启2401操作。
- 存在问题及改进：
  - 检测机器人发包功能、编码器、吸球功能等是否正常。

### FOC电机控制

- 任务描述：为FOC控制选择合适的芯片并设计合理的电路。
- 目前进展：暂时选用TI DRV8305芯片；参考[SimpleFOC项目](https://simplefoc.com/)进行测试。

### 使用树莓派实现STM32部分功能

- 任务描述：
- 目前进展：
- 存在问题及改进：

## 机械
### 香蕉球踢球装置

### 编码器更换

- 任务描述：目前使用的编码器为光电编码器，精度为1000线。更高的编码器精度可以提供更好的控制效果，但当前编码器的精度基本已达上限，需要重新考虑编码器选型和配套的机械电路设计。
- 目前进展：
  - 光电编码器：万级精度的光电编码器较少，一般需搭配专用码盘，定制困难；码盘需要防尘，初步考虑将编码器嵌在减速箱结构中，采用类似瓶盖的遮挡结构。
  - 磁编码器：精度较高，但一般会搭配电路结构，体积较大，安装不便；线圈的磁可能会对编码器的反馈造成影响。
- 存在问题及改进：
  - 设计结构时要考虑节省编码器的安装空间、减小编码器更换难度、降低损坏率。
